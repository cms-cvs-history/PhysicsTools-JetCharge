process chargeAnalysis = {
    include "FWCore/MessageService/data/MessageLogger.cfi"

    source = PoolSource {
        untracked vstring fileNames = {
            '/store/RelVal/2007/6/4/RelVal-RelVal150pre5TTbar-1180981428/0000/8EA0C740-0513-DC11-8880-001731AF684D.root',
            '/store/RelVal/2007/6/4/RelVal-RelVal150pre5TTbar-1180981428/0000/B4FA23F0-0013-DC11-BFAD-003048767D3D.root',
            '/store/RelVal/2007/6/4/RelVal-RelVal150pre5TTbar-1180981428/0000/FAFA7ECB-3813-DC11-8942-00304875AB59.root'
            #'file:ttbar.root'
        }
    }

    untracked PSet maxEvents = { untracked int32 input = -1 }

    include "PhysicsTools/JetCharge/data/JetChargeProducer.cfi"
    include "PerfTools/Callgrind/data/callgrindSwitch.cfi"

    service = TFileService {
        string fileName = "plots.root"
    }

    module jetChargeAnalyzer = JetChargeAnalyzer {
        InputTag src        = jetChargeProducer
        double   minET      = 15
        string   dir        = "jetChargePlots"

        ## cut'n'paste from RecoBTag/MCTools/test/test.cfg rev. 1.3
        PSet jetIdParameters = {
            string mcSource = "source"
            bool fillPartons = true
            bool fillHeavyHadrons = false
            bool fillLeptons =  false
            double coneSizeToAssociate = 0.3
            bool physicsDefinition = false
            bool rejectBCSplitting = false
            vstring vetoFlavour = {  }
        }
    }

    path p = { 
        profilerStart,
        jetChargeProducer, 
        jetChargeAnalyzer, 
        profilerStop
    }


    module out = PoolOutputModule {
        untracked string fileName = 'sel.root'
            untracked vstring outputCommands = {
                "drop *",
                "keep *_*_*_charge",
                "keep recoCaloJets_*_*_*"
            }
    }

    //module ascii = AsciiOutputModule { }

    //endpath e = { out, ascii }

    untracked PSet options = { untracked bool wantSummary = true }
}
